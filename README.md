# CA3-CA1-Network-Model
Sharp-Wave Ripple Generating Network Model of CA3-CA1

![alt text](https://github.com/EdMorrell/CA3-CA1-Network-Model/blob/main/ca3_ca1.jpg "Taken from Taxidis et al.,")

## Model Schema:
Model generates sharp-wave ripple like spike bursts via dendritic current applied to CA3 pyramidal cells. Population bursts correspond to ripple-like oscillations in synaptic currents.
*    CA3:
        - 1000 Pinksy-Rinzel neurons recurrently connected
        - 100 Wang-Buzsaki interneuorns
*    CA1
        - 1000 Pinsky-Rinzel neurons
        - 100 Wang-Buzsaki interneurons recurrently connected
*    CA3 connected to CA1 through feedforward Schaffer-collateral connections



Network model based on [Taxidis et al., 2011.](https://onlinelibrary.wiley.com/doi/full/10.1002/hipo.20930)

Code adapted from [Gunn et al., 2017](https://academic.oup.com/cercor/article/27/8/4182/3778268). Available [here.](https://senselab.med.yale.edu/ModelDB/showmodel.cshtml?model=225906#tabs-1)

## To run:
1. **Full_Simulation.py** will run a full simulation (simulation lenth specified in main() function) and output the CA3/CA1 pyramidal cell spikes and synaptic currents and IN spikes into 3 separate pickle files (CA3,CA1,IN). 
    
    **Warning**: Long simulations very RAM intensive. Don't run for greater than 2000ms (default) if low on RAM
    
2. **connectivity.py** required to run simulations (initialises random connectivity schema for each simulation). Schaffer-collaterals can be very slow to generate. Simulation generates and saves *SC_connect.pkl* to directory to use pre-computed connectivity schema and save on computation on future runs.

3. **ripple_analysis.py**: Performs ripple detection and analysis on synaptic potentials generated by simulation. Requires [Eden-Kramer-Lab Ripple detection toolbox to run](https://github.com/Eden-Kramer-Lab/ripple_detection)

3. Alternatively run simulation with **CA3-CA1 Network.ipynb** in Jupyter Notebook. Notebook plots outputs from simulation and performs ripple analysis and plots ripple oscillations.

4. **Saved Output Plotter.ipynb**: Jupyter Notebook to plot output of simulation (pickle files)

## Requirements:
* [Brian2](https://brian2.readthedocs.io/en/stable/) 
* [Eden-Kramer-Lab Ripple detection toolbox](https://github.com/Eden-Kramer-Lab/ripple_detection) *required for ripple analysis*
